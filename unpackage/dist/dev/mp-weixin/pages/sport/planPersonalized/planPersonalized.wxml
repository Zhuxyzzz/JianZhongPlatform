<view class="plan-personalized-container data-v-803d55ea"><view class="user-info-section data-v-803d55ea"><view class="user-info-left data-v-803d55ea"><image class="avatar data-v-803d55ea" src="{{userInfo.user_avator}}" mode="aspectFit"></image></view><view class="user-info-right data-v-803d55ea"><text class="user-name data-v-803d55ea">{{userInfo.name}}</text><text class="user-stats data-v-803d55ea">{{"体重: "+userInfo.weight+"kg | 身高: "+userInfo.height+"cm"}}</text><text class="user-stats data-v-803d55ea">{{"BMI: "+computedBMI}}</text><text class="user-goal data-v-803d55ea">{{"目标: "+userInfo.goal+" ("+userInfo.period+"天)"}}</text></view></view><view class="intensity-section data-v-803d55ea"><text class="section-title data-v-803d55ea">选择运动强度</text><view class="intensity-options data-v-803d55ea"><block wx:for="{{intensityModes}}" wx:for-item="mode" wx:for-index="idx" wx:key="idx"><view data-event-opts="{{[['tap',[['selectIntensity',['$0'],[[['intensityModes','',idx,'value']]]]]]]}}" class="{{['intensity-item','data-v-803d55ea',(selectedIntensity===mode.value)?'active':'']}}" bindtap="__e"><image class="intensity-icon data-v-803d55ea" src="{{mode.icon}}" mode="aspectFit"></image><text class="data-v-803d55ea">{{mode.label}}</text></view></block></view></view><view class="plan-list-section data-v-803d55ea"><view class="section-header data-v-803d55ea"><text class="section-title data-v-803d55ea">个性化运动计划</text><button data-event-opts="{{[['tap',[['generatePlan',['$event']]]]]}}" class="refresh-button data-v-803d55ea" bindtap="__e">生成/更新计划</button></view><block wx:if="{{$root.g0===0}}"><view class="no-plan-tips data-v-803d55ea"><text class="data-v-803d55ea">暂无运动项目，请先选择运动强度并点击生成计划</text></view></block><block wx:for="{{planList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="plan-item data-v-803d55ea"><image class="plan-item-image data-v-803d55ea" src="{{item.img}}" mode="aspectFill"></image><view class="plan-item-info data-v-803d55ea"><text class="plan-item-title data-v-803d55ea">{{item.name}}</text><text class="plan-item-desc data-v-803d55ea">{{item.desc}}</text><view class="plan-item-meta data-v-803d55ea"><text class="data-v-803d55ea">{{"时长: "+item.duration+" 分钟"}}</text><text class="data-v-803d55ea">{{"消耗: "+item.calories+" kcal"}}</text></view></view><view class="plan-item-actions data-v-803d55ea"><button size="mini" type="default" data-event-opts="{{[['tap',[['removeItem',[index]]]]]}}" catchtap="__e" class="data-v-803d55ea">删除</button><button size="mini" type="primary" data-event-opts="{{[['tap',[['startExercise',['$0'],[[['planList','',index]]]]]]]}}" bindtap="__e" class="data-v-803d55ea">开始</button></view></view></block></view><view class="note-section data-v-803d55ea"><text class="note-text data-v-803d55ea">提示：请根据自身身体状况与医生建议选择合适的运动强度。若感到不适，请立即停止并寻求医生帮助。</text></view></view>